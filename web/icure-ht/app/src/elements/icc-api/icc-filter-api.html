
	<link rel="import" href="../../../bower_components/polymer/polymer.html">
	<link rel="import" href="../../../bower_components/iron-ajax/iron-ajax.html">

	<dom-module id="icc-filter-api">
		<template>
    		<style>
	    	</style>

				<iron-ajax id="findForEntity" method="GET" headers="[[headers]]" url="/filter/{entityName}" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyAndPredicate" method="GET" headers="[[headers]]" url="/filter/p/and/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyComplement" method="GET" headers="[[headers]]" url="/filter/f/complement/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyContactByHcpTagCodeDate" method="GET" headers="[[headers]]" url="/filter/f/contact/byhcptcd/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyContactByServiceIdsFilter" method="GET" headers="[[headers]]" url="/filter/f/contact/bysvcids/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyIntersection" method="GET" headers="[[headers]]" url="/filter/f/intersect/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyKeyValuePredicate" method="GET" headers="[[headers]]" url="/filter/p/kv/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyNotPredicate" method="GET" headers="[[headers]]" url="/filter/p/not/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyOrPredicate" method="GET" headers="[[headers]]" url="/filter/p/or/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyPatientByHcParty" method="GET" headers="[[headers]]" url="/filter/f/patient/by/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyPatientByHcPartyAndExternalId" method="GET" headers="[[headers]]" url="/filter/f/patient/byextid/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyPatientByHcPartyAndSsin" method="GET" headers="[[headers]]" url="/filter/f/patient/byssin/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyPatientByHcPartyDateOfBirth" method="GET" headers="[[headers]]" url="/filter/f/patient/bydob/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyPatientByHcPartyDateOfBirthBetween" method="GET" headers="[[headers]]" url="/filter/f/patient/bydobb/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyPatientByHcPartyNameContainsFuzzy" method="GET" headers="[[headers]]" url="/filter/f/patient/byname/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyPatientByIds" method="GET" headers="[[headers]]" url="/filter/f/patient/byids/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyServiceByContactsAndSubcontacts" method="GET" headers="[[headers]]" url="/filter/f/service/bycsc/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyServiceByHcpTagCodeDate" method="GET" headers="[[headers]]" url="/filter/f/service/byhcptcd/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
				<iron-ajax id="getEmptyUnion" method="GET" headers="[[headers]]" url="/filter/f/union/empty" handle-as="json"
									 on-error="handleError" with-credentials></iron-ajax>
		</template>
	</dom-module>

	<script>
		(function () {
			Polymer({
				is: 'icc-filter-api',
				properties: {
					headers: {
						type: Object,
						value: {"Content-Type": "application/json"}
					},
					host: {
						type: String
					}
				},
				behaviors: [],
				findForEntity: function (entityName) {
					var xhr = this.$.findForEntity

					xhr.url = this.host+"/filter/{entityName}".replace("{entityName}", entityName) + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyAndPredicate: function () {
					var xhr = this.$.getEmptyAndPredicate

					xhr.url = this.host+"/filter/p/and/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyComplement: function () {
					var xhr = this.$.getEmptyComplement

					xhr.url = this.host+"/filter/f/complement/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyContactByHcpTagCodeDate: function () {
					var xhr = this.$.getEmptyContactByHcpTagCodeDate

					xhr.url = this.host+"/filter/f/contact/byhcptcd/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyContactByServiceIdsFilter: function () {
					var xhr = this.$.getEmptyContactByServiceIdsFilter

					xhr.url = this.host+"/filter/f/contact/bysvcids/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyIntersection: function () {
					var xhr = this.$.getEmptyIntersection

					xhr.url = this.host+"/filter/f/intersect/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyKeyValuePredicate: function () {
					var xhr = this.$.getEmptyKeyValuePredicate

					xhr.url = this.host+"/filter/p/kv/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyNotPredicate: function () {
					var xhr = this.$.getEmptyNotPredicate

					xhr.url = this.host+"/filter/p/not/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyOrPredicate: function () {
					var xhr = this.$.getEmptyOrPredicate

					xhr.url = this.host+"/filter/p/or/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyPatientByHcParty: function () {
					var xhr = this.$.getEmptyPatientByHcParty

					xhr.url = this.host+"/filter/f/patient/by/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyPatientByHcPartyAndExternalId: function () {
					var xhr = this.$.getEmptyPatientByHcPartyAndExternalId

					xhr.url = this.host+"/filter/f/patient/byextid/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyPatientByHcPartyAndSsin: function () {
					var xhr = this.$.getEmptyPatientByHcPartyAndSsin

					xhr.url = this.host+"/filter/f/patient/byssin/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyPatientByHcPartyDateOfBirth: function () {
					var xhr = this.$.getEmptyPatientByHcPartyDateOfBirth

					xhr.url = this.host+"/filter/f/patient/bydob/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyPatientByHcPartyDateOfBirthBetween: function () {
					var xhr = this.$.getEmptyPatientByHcPartyDateOfBirthBetween

					xhr.url = this.host+"/filter/f/patient/bydobb/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyPatientByHcPartyNameContainsFuzzy: function () {
					var xhr = this.$.getEmptyPatientByHcPartyNameContainsFuzzy

					xhr.url = this.host+"/filter/f/patient/byname/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyPatientByIds: function () {
					var xhr = this.$.getEmptyPatientByIds

					xhr.url = this.host+"/filter/f/patient/byids/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyServiceByContactsAndSubcontacts: function () {
					var xhr = this.$.getEmptyServiceByContactsAndSubcontacts

					xhr.url = this.host+"/filter/f/service/bycsc/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyServiceByHcpTagCodeDate: function () {
					var xhr = this.$.getEmptyServiceByHcpTagCodeDate

					xhr.url = this.host+"/filter/f/service/byhcptcd/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				getEmptyUnion: function () {
					var xhr = this.$.getEmptyUnion

					xhr.url = this.host+"/filter/f/union/empty" + "?ts=" + (new Date).getTime()
					return xhr.generateRequest().completes.then(function (req) {
						return req.response
					})
				},
				handleError: function (e) {
					if (e.detail.request.status === 401) this.fire('auth-failed')
					else this.fire('api-error', e)
				}
			});
		})();
	</script>

@end
